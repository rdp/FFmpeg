ruby go_protocol_when_possible.rb